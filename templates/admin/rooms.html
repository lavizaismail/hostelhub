{% extends 'base.html' %}
{% block title %}Room Management - HostelHub{% endblock %}

{% block content %}
<div class="page-header">
  <h1 class="page-title animate__animated animate__fadeInDown">üè¢ Room Management</h1>
  <div class="header-actions">
    <a href="{{ url_for('admin.export_rooms') }}" class="btn btn-success">üì• Export to CSV</a>
    <a href="{{ url_for('admin.room_new') }}" class="btn btn-primary">‚ûï Add New Room</a>
  </div>
</div>

<table class="table animate__animated animate__fadeInUp">
  <thead>
    <tr>
      <th>Room ID</th>
      <th>Block</th>
      <th>Room Number</th>
      <th>Capacity</th>
      <th>Status</th>
      <th>Gender</th>
      <th>Floor</th>
      <th>Monthly Rent</th>
      <th>Occupancy</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for room in rooms %}
    <tr>
      <td>{{ room.roomid }}</td>
      <td><strong>{{ room.block }}</strong></td>
      <td>{{ room.roomnumber }}</td>
      <td>{{ room.capacity }}</td>
      <td>
        {% if room.status == 'vacant' %}
        <span class="badge badge-success">Vacant</span>
        {% elif room.status == 'occupied' %}
        <span class="badge badge-warning">Occupied</span>
        {% else %}
        <span class="badge badge-danger">Maintenance</span>
        {% endif %}
      </td>
      <td>{{ room.gender | capitalize }}</td>
      <td>{{ room.floor }}</td>
      <td>‚Çπ{{ room.monthly_rent | round(2) }}</td>
      <td>{{ room.current_occupancy or 0 }}/{{ room.capacity }}</td>
      <td>
        <a href="{{ url_for('admin.room_edit', room_id=room.roomid) }}" class="btn btn-secondary btn-sm">‚úèÔ∏è Edit</a>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}

{% block extra_css %}
<style>
.page-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 2rem;
  flex-wrap: wrap;
  gap: 1rem;
}

.header-actions {
  display: flex;
  gap: 1rem;
  flex-wrap: wrap;
}

.badge {
  padding: 0.4rem 0.8rem;
  border-radius: 12px;
  font-size: 0.85rem;
  font-weight: 600;
}

.badge-success { background: var(--success-color); color: white; }
.badge-warning { background: var(--warning-color); color: white; }
.badge-danger { background: var(--danger-color); color: white; }
</style>
{% endblock %}
